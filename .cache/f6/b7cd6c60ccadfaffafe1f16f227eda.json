{"id":"node_modules/@aws-sdk/eventstream-serde-universal/dist/es/EventStreamMarshaller.js","dependencies":[{"name":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/package.json","includedInParent":true,"mtime":1697024701905},{"name":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/node_modules/@aws-sdk/eventstream-serde-universal/package.json","includedInParent":true,"mtime":1697023273540},{"name":"tslib","loc":{"line":1,"column":70,"index":70},"parent":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/node_modules/@aws-sdk/eventstream-serde-universal/dist/es/EventStreamMarshaller.js","resolved":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/node_modules/tslib/tslib.es6.js"},{"name":"@aws-sdk/eventstream-marshaller","loc":{"line":2,"column":57,"index":136},"parent":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/node_modules/@aws-sdk/eventstream-serde-universal/dist/es/EventStreamMarshaller.js","resolved":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/node_modules/@aws-sdk/eventstream-marshaller/dist/es/index.js"},{"name":"./getChunkedStream","loc":{"line":3,"column":33,"index":204},"parent":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/node_modules/@aws-sdk/eventstream-serde-universal/dist/es/EventStreamMarshaller.js","resolved":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/node_modules/@aws-sdk/eventstream-serde-universal/dist/es/getChunkedStream.js"},{"name":"./getUnmarshalledStream","loc":{"line":4,"column":38,"index":264},"parent":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/node_modules/@aws-sdk/eventstream-serde-universal/dist/es/EventStreamMarshaller.js","resolved":"/Users/momahboobian/Downloads/aws-amplifire-vainajs/node_modules/@aws-sdk/eventstream-serde-universal/dist/es/getUnmarshalledStream.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EventStreamMarshaller = void 0;\nvar _tslib = require(\"tslib\");\nvar _eventstreamMarshaller = require(\"@aws-sdk/eventstream-marshaller\");\nvar _getChunkedStream = require(\"./getChunkedStream\");\nvar _getUnmarshalledStream = require(\"./getUnmarshalledStream\");\nvar EventStreamMarshaller = exports.EventStreamMarshaller = /** @class */function () {\n  function EventStreamMarshaller(_a) {\n    var utf8Encoder = _a.utf8Encoder,\n      utf8Decoder = _a.utf8Decoder;\n    this.eventMarshaller = new _eventstreamMarshaller.EventStreamMarshaller(utf8Encoder, utf8Decoder);\n    this.utfEncoder = utf8Encoder;\n  }\n  EventStreamMarshaller.prototype.deserialize = function (body, deserializer) {\n    var chunkedStream = (0, _getChunkedStream.getChunkedStream)(body);\n    var unmarshalledStream = (0, _getUnmarshalledStream.getUnmarshalledStream)(chunkedStream, {\n      eventMarshaller: this.eventMarshaller,\n      deserializer: deserializer,\n      toUtf8: this.utfEncoder\n    });\n    return unmarshalledStream;\n  };\n  EventStreamMarshaller.prototype.serialize = function (input, serializer) {\n    var _a;\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    var self = this;\n    var serializedIterator = function serializedIterator() {\n      return (0, _tslib.__asyncGenerator)(this, arguments, function () {\n        var input_1, input_1_1, chunk, payloadBuf, e_1_1;\n        var e_1, _a;\n        return (0, _tslib.__generator)(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              _b.trys.push([0, 7, 8, 13]);\n              input_1 = (0, _tslib.__asyncValues)(input);\n              _b.label = 1;\n            case 1:\n              return [4 /*yield*/, (0, _tslib.__await)(input_1.next())];\n            case 2:\n              if (!(input_1_1 = _b.sent(), !input_1_1.done)) return [3 /*break*/, 6];\n              chunk = input_1_1.value;\n              payloadBuf = self.eventMarshaller.marshall(serializer(chunk));\n              return [4 /*yield*/, (0, _tslib.__await)(payloadBuf)];\n            case 3:\n              return [4 /*yield*/, _b.sent()];\n            case 4:\n              _b.sent();\n              _b.label = 5;\n            case 5:\n              return [3 /*break*/, 1];\n            case 6:\n              return [3 /*break*/, 13];\n            case 7:\n              e_1_1 = _b.sent();\n              e_1 = {\n                error: e_1_1\n              };\n              return [3 /*break*/, 13];\n            case 8:\n              _b.trys.push([8,, 11, 12]);\n              if (!(input_1_1 && !input_1_1.done && (_a = input_1.return))) return [3 /*break*/, 10];\n              return [4 /*yield*/, (0, _tslib.__await)(_a.call(input_1))];\n            case 9:\n              _b.sent();\n              _b.label = 10;\n            case 10:\n              return [3 /*break*/, 12];\n            case 11:\n              if (e_1) throw e_1.error;\n              return [7 /*endfinally*/];\n            case 12:\n              return [7 /*endfinally*/];\n            case 13:\n              return [4 /*yield*/, (0, _tslib.__await)(new Uint8Array(0))];\n            case 14:\n              // Ending frame\n              return [4 /*yield*/, _b.sent()];\n            case 15:\n              // Ending frame\n              _b.sent();\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n\n    return _a = {}, _a[Symbol.asyncIterator] = serializedIterator, _a;\n  };\n  return EventStreamMarshaller;\n}();"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":26}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":29}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":36}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":0}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":21}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":31}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":0}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":26}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":29}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":36}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":0}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":25}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":28}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":35}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":36}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":57}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":60}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":73}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":11,"column":85}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":12,"column":2}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":12,"column":11}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":12,"column":32}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":14},"generated":{"line":12,"column":33}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":72},"generated":{"line":12,"column":35}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":72},"generated":{"line":12,"column":37}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":16},"generated":{"line":13,"column":8}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":27},"generated":{"line":13,"column":19}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":27},"generated":{"line":13,"column":22}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":27},"generated":{"line":13,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":27},"generated":{"line":13,"column":25}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":27},"generated":{"line":13,"column":36}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":29},"generated":{"line":14,"column":6}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":40},"generated":{"line":14,"column":17}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":40},"generated":{"line":14,"column":20}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":40},"generated":{"line":14,"column":22}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":40},"generated":{"line":14,"column":23}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":17,"column":40},"generated":{"line":14,"column":34}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":15,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":8},"generated":{"line":15,"column":8}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":15,"column":9}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":24},"generated":{"line":15,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":27},"generated":{"line":15,"column":27}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":31},"generated":{"line":15,"column":31}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":46},"generated":{"line":15,"column":75}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":47},"generated":{"line":15,"column":76}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":58},"generated":{"line":15,"column":87}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":60},"generated":{"line":15,"column":89}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":71},"generated":{"line":15,"column":100}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":18,"column":72},"generated":{"line":15,"column":101}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":16,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":16,"column":8}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":16,"column":9}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":19,"column":19},"generated":{"line":16,"column":19}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":19,"column":22},"generated":{"line":16,"column":22}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":19,"column":33},"generated":{"line":16,"column":33}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":17,"column":2}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":18,"column":2}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":18,"column":23}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":18,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":18,"column":33}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":18,"column":34}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":18,"column":45}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":18,"column":48}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":18,"column":58}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":35},"generated":{"line":18,"column":62}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":18,"column":64}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":24,"column":69},"generated":{"line":18,"column":76}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":24,"column":69},"generated":{"line":18,"column":78}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":19,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":19,"column":8}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":26,"column":23},"generated":{"line":19,"column":21}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":19,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":19,"column":28}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":26,"column":42},"generated":{"line":19,"column":62}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":26,"column":43},"generated":{"line":19,"column":64}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":26,"column":47},"generated":{"line":19,"column":68}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":26,"column":48},"generated":{"line":19,"column":69}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":20,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":20,"column":8}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":28},"generated":{"line":20,"column":26}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":31},"generated":{"line":20,"column":29}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":31},"generated":{"line":20,"column":33}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":52},"generated":{"line":20,"column":77}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":53},"generated":{"line":20,"column":79}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":66},"generated":{"line":20,"column":92}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":68},"generated":{"line":20,"column":94}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":21,"column":6}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":21},"generated":{"line":21,"column":21}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":23},"generated":{"line":21,"column":23}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":27},"generated":{"line":21,"column":27}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":28},"generated":{"line":21,"column":28}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":43},"generated":{"line":21,"column":43}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":22,"column":6}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":22,"column":18}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":22,"column":20}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":22,"column":32}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":23,"column":6}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":23,"column":12}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":30,"column":14},"generated":{"line":23,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":30,"column":18},"generated":{"line":23,"column":18}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":23,"column":19}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":31,"column":5},"generated":{"line":24,"column":5}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":24,"column":6}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":25,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":25,"column":11}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":32,"column":29},"generated":{"line":25,"column":29}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":26,"column":2}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":33,"column":3},"generated":{"line":26,"column":3}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":27,"column":2}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":27,"column":23}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":27,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":27,"column":33}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":27,"column":34}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":11},"generated":{"line":27,"column":43}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":27,"column":46}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":27,"column":56}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":38},"generated":{"line":27,"column":61}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":40},"generated":{"line":27,"column":63}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":73},"generated":{"line":27,"column":73}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":73},"generated":{"line":27,"column":75}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":29,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":30,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":30,"column":8}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":30,"column":12}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":37,"column":17},"generated":{"line":30,"column":15}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":37,"column":21},"generated":{"line":30,"column":19}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":31,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":31,"column":8}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":38,"column":28},"generated":{"line":31,"column":26}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":38,"column":31},"generated":{"line":31,"column":29}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":31,"column":38}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":38,"column":28},"generated":{"line":31,"column":56}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":38,"column":28},"generated":{"line":31,"column":57}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":38,"column":31},"generated":{"line":31,"column":59}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":39,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":39,"column":21}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":39,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":39,"column":28}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":39,"column":48}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":39,"column":50}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":37},"generated":{"line":39,"column":55}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":37},"generated":{"line":39,"column":56}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":45,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":45,"column":19}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":45,"column":22}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":45,"column":31}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":45,"column":32}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":45,"column":37}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":14},"generated":{"line":46,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":24},"generated":{"line":46,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":46,"column":27}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":31},"generated":{"line":46,"column":31}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":32},"generated":{"line":46,"column":32}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":47},"generated":{"line":46,"column":47}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":48},"generated":{"line":46,"column":48}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":56},"generated":{"line":46,"column":56}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":57},"generated":{"line":46,"column":57}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":67},"generated":{"line":46,"column":67}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":68},"generated":{"line":46,"column":68}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":73},"generated":{"line":46,"column":73}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":74},"generated":{"line":46,"column":74}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":40,"column":75},"generated":{"line":46,"column":75}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":14},"generated":{"line":47,"column":55}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":24},"generated":{"line":47,"column":65}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":24},"generated":{"line":47,"column":66}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":24},"generated":{"line":47,"column":67}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":21}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":22}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":23}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":35}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":37}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":38}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":42}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":43}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":44}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":49,"column":45}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":51,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":51,"column":16}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":51,"column":17}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":51,"column":21}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":51,"column":22}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":24},"generated":{"line":51,"column":23}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":78,"column":55}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":16},"generated":{"line":78,"column":59}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":26},"generated":{"line":78,"column":69}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":27},"generated":{"line":78,"column":70}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":28},"generated":{"line":78,"column":71}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":78,"column":72}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":78,"column":73}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":78,"column":74}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":80,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":21}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":22}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":23}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":24}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":35}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":37}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":38}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":42}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":43}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":44}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":81,"column":45}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":83,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":84,"column":14}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":84,"column":16}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":84,"column":17}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":84,"column":21}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":84,"column":22}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":84,"column":23}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":45,"column":5},"generated":{"line":89,"column":5}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":91,"column":4}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":91,"column":11}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":91,"column":13}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":91,"column":16}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":91,"column":17}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":91,"column":18}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":91,"column":20}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":91,"column":22}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":47,"column":7},"generated":{"line":91,"column":23}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":47,"column":13},"generated":{"line":91,"column":29}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":47,"column":14},"generated":{"line":91,"column":30}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":47,"column":27},"generated":{"line":91,"column":43}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":47,"column":27},"generated":{"line":91,"column":44}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":47,"column":30},"generated":{"line":91,"column":47}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":47,"column":48},"generated":{"line":91,"column":65}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":2},"generated":{"line":92,"column":2}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":3},"generated":{"line":92,"column":3}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":93,"column":2}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":93,"column":9}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":50,"column":1},"generated":{"line":93,"column":30}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":94,"column":0}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":94,"column":1}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":94,"column":2}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":94,"column":3}}],"sources":{"../../src/EventStreamMarshaller.ts":"import { EventStreamMarshaller as EventMarshaller } from \"@aws-sdk/eventstream-marshaller\";\nimport { Decoder, Encoder, EventStreamMarshaller as IEventStreamMarshaller, Message } from \"@aws-sdk/types\";\n\nimport { getChunkedStream } from \"./getChunkedStream\";\nimport { getUnmarshalledStream } from \"./getUnmarshalledStream\";\n\nexport interface EventStreamMarshaller extends IEventStreamMarshaller {}\n\nexport interface EventStreamMarshallerOptions {\n  utf8Encoder: Encoder;\n  utf8Decoder: Decoder;\n}\n\nexport class EventStreamMarshaller {\n  private readonly eventMarshaller: EventMarshaller;\n  private readonly utfEncoder: Encoder;\n  constructor({ utf8Encoder, utf8Decoder }: EventStreamMarshallerOptions) {\n    this.eventMarshaller = new EventMarshaller(utf8Encoder, utf8Decoder);\n    this.utfEncoder = utf8Encoder;\n  }\n\n  deserialize<T>(\n    body: AsyncIterable<Uint8Array>,\n    deserializer: (input: { [event: string]: Message }) => Promise<T>\n  ): AsyncIterable<T> {\n    const chunkedStream = getChunkedStream(body);\n    const unmarshalledStream = getUnmarshalledStream(chunkedStream, {\n      eventMarshaller: this.eventMarshaller,\n      deserializer,\n      toUtf8: this.utfEncoder,\n    });\n    return unmarshalledStream;\n  }\n\n  serialize<T>(input: AsyncIterable<T>, serializer: (event: T) => Message): AsyncIterable<Uint8Array> {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const serializedIterator = async function* () {\n      for await (const chunk of input) {\n        const payloadBuf = self.eventMarshaller.marshall(serializer(chunk));\n        yield payloadBuf;\n      }\n      // Ending frame\n      yield new Uint8Array(0);\n    };\n    return {\n      [Symbol.asyncIterator]: serializedIterator,\n    };\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"873af4b610f68fdac71f5019da2f48c3","cacheData":{"env":{}}}